syntax = "proto3";

option go_package = "/in_memory_blockchain";

package proto;

service Transaction {
    rpc CreateTx (TxPayload) returns (Tx) {}
    rpc GetTx (TxParams) returns (TxList) {}
}

service Block {
    rpc GetBlock (BlkParams) returns (BlkList) {}
}

message TxPayload {
    string from = 1;
    string to = 2;
    float value = 3;
}

message Tx {
    bytes hash = 1;
    string from = 2;
    string to = 3;
    float value = 4;
}

message TxParams {

}

message TxList {
    repeated Tx list = 1;
}

message Header {
    bytes hash = 1;
    bytes parent_hash = 2;
    int32 height = 3;
    repeated bytes tx_hashes = 4;
}

message Blk {
    Header header = 1;
    repeated Tx tx_list = 2;
}

message BlkParams {

}

message BlkList {
    repeated Blk list = 1;
}